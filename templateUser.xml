<!--Fichier de paramétrage de la collecte-->
<!--
Rappel :
Texte libre à mettre entre guillement simple, exemple = 'test'
utiliser des + pour séparer les éléments
Un chiffre entre étoiles placé avant une valeure indique le nombre de lettre à utiliser, exemple : *1*agent.firstname = On utilise la première lettre du prénom
Le symbole *M* indique que toute la valeure suivante doit être converti en majuscule
Le symbole *1M* indique que seul la première lettre doit être converti en majuscule. Le chiffre peut être ajusté.
Le symbole *m* indique que toute la valeure suivante doit être converti en minuscule
Le symbole *1m* indique que seul la première lettre doit être converti en minuscule. Le chiffre peut être ajusté.
Le symbole *C* remplace les caractères français accentués par leur équivalent sans accent é->e
Le symbole *_S_* exemple *1S/* permet de spliter la valeure en utilisant le caractère / et de garder la première occurence
Le symbole *""R""* exemple *"test"R"testo"* remplace test par testo
Le symbole *LF_* va chercher la valeur correspondante dans le fichier des substitus. Par exemple *LFpbt* va chercher le phone button template correspodnant
Le symbole *MAC* valide que la valeure suivante est une adresse MAC. Si ce n'est pas le cas, une exception sera levée
Les combinaisons sont possibles, par exemple : *4_**M*agent.lastname affichera les 4 premières lettres du nom mises en majuscule. *M**4_* est équivalent. *2M**5_*agent.lastname affichera les 5 première lettres du prénom dont les deux premières seront en majuscule.
-->
<xml>
	<items>
		<phone>
			<targetname>softphone</targetname>
			<devicename>('CSF'+*M*agent.userid)IfLongerThan15('CSF'+*9_**M*agent.userid+*_3**M*agent.userid)</devicename>
			<description>(*1M**C*agent.firstname+' '+*M**C*agent.lastname+' - '+office.name)IfLongerThan40(*1_**M**C*agent.firstname+'.'+*M**C*agent.lastname+' - '+office.name)</description>
			<linedescription>(*1M**C*agent.firstname+' '+*M**C*agent.lastname)IfLongerThan40(*1_**M**C*agent.firstname+'.'+*M**C*agent.lastname)</linedescription>
			<alertingname>(*1M**C*agent.firstname+' '+*M**C*agent.lastname)IfLongerThan40(*1_**M**C*agent.firstname+'.'+*M**C*agent.lastname)</alertingname>
			<display>(*1M**C*agent.firstname+' '+*M**C*agent.lastname)IfLongerThan40(*1_**M**C*agent.firstname+'.'+*M**C*agent.lastname)</display>
			<linetextlabel>(*1M**C*agent.firstname+' '+*M**C*agent.lastname)IfLongerThan40(*1_**M**C*agent.firstname+'.'+*M**C*agent.lastname)</linetextlabel>
			<externalphonemask>office.setting.1</externalphonemask>
			<aarmask></aarmask>
			<commondeviceconfig>office.name+'_CDC'</commondeviceconfig>
			<commonphoneconfig>'Standard Common Phone Profile'</commonphoneconfig>
			<securityprofile>'Cisco Unified Client Services Framework - Standard SIP Non-Secure Profile'</securityprofile>
			<devicemobilitymode>'Default'</devicemobilitymode><!--Off, On, Default-->
			<!--<aargroup>office.aargroup</aargroup>-->
			<aarcss></aarcss>
			<subscribecss>'SUBSCRIBE_CSS'</subscribecss>
			<reroutingcss>office.name+'_DEVICE_CSS'</reroutingcss>
			<linenumber>agent.linenumber</linenumber><!--One or more-->
			<cssline>'All_CSS'</cssline>
			<!--<cssforward>'TBD'</cssforward>
			<fwalldestination>'TBD'</fwalldestination>
			<fwnoandestination>'TBD'</fwnoandestination>
			<fwbusydestination>'TBD'</fwbusydestination>
			<fwunrdestination>'TBD'</fwunrdestination>
			<fwallvoicemailenable>'false'</fwallvoicemailenable>
			<fwnoanvoicemailenable>'false'</fwnoanvoicemailenable>
			<fwbusyvoicemailenable>'false'</fwbusyvoicemailenable>
			<fwunrvoicemailenable>'false'</fwunrvoicemailenable>
			<voicemailprofile>office.voicemailprofile</voicemailprofile>-->
			<routepartition>config.nodidpartition</routepartition>
			<producttype>'Cisco Unified Client Services Framework'</producttype>
			<protocol>'SIP'</protocol>
			<buttontemplate>'Standard Client Services Framework'</buttontemplate>
			<devicepool>office.name+'_DP'</devicepool>
			<location>office.name+'_LOC'</location>
			<cssdevice>office.name+'_DEVICE_CSS'</cssdevice>
		</phone>
		<phone>
			<targetname>loggedoutphone</targetname>
			<devicename>'SEP'+*MAC*agent.devicename</devicename>
			<description>'Telephone non connecte'</description>
			<linedescription>'Ligne HSDA'</linedescription>
			<commondeviceconfig>office.name+'_CDC'</commondeviceconfig>
			<commonphoneconfig>'Standard Common Phone Profile'</commonphoneconfig>
			<securityprofile>*LFphone*agent.devicetype+' - Standard SIP Non-Secure Profile'</securityprofile>
			<devicemobilitymode>'Default'</devicemobilitymode><!--Off, On, Default-->
			<subscribecss>'SUBSCRIBE_CSS'</subscribecss>
			<reroutingcss>office.name+'_DEVICE_CSS'</reroutingcss>
			<linenumber>cucm.availableline</linenumber><!--One or more-->
			<cssline>'All_CSS'</cssline>
			<fwallvoicemailenable>'false'</fwallvoicemailenable>
			<fwnoanvoicemailenable>'false'</fwnoanvoicemailenable>
			<fwbusyvoicemailenable>'false'</fwbusyvoicemailenable>
			<fwunrvoicemailenable>'false'</fwunrvoicemailenable>
			<routepartition>config.nodidpartition</routepartition>
			<producttype>*LFphone*agent.devicetype</producttype>
			<protocol>'SIP'</protocol>
			<buttontemplate>*LFpbt*agent.devicetype</buttontemplate>
			<devicepool>office.name+'_DP'</devicepool>
			<location>office.name+'_LOC'</location>
			<cssdevice>office.name+'_DEVICE_CSS'</cssdevice>
			<service>'Connexion'</service><!--'Service Name':'Service URL label' One or more service-->
		</phone>
		<udp>
			<targetname>udp</targetname>
			<devicename>*m*agent.userid</devicename>
			<description>(*1M**C*agent.firstname+' '+*M**C*agent.lastname+' - '+office.name)IfLongerThan40(*1_**M**C*agent.firstname+'.'+*M**C*agent.lastname+' - '+office.name)</description>
			<linedescription>(*1M**C*agent.firstname+' '+*M**C*agent.lastname)IfLongerThan30(*1_**M**C*agent.firstname+'.'+*M**C*agent.lastname)</linedescription>
			<alertingname>(*1M**C*agent.firstname+' '+*M**C*agent.lastname)IfLongerThan30(*1_**M**C*agent.firstname+'.'+*M**C*agent.lastname)</alertingname>
			<display>(*1M**C*agent.firstname+' '+*M**C*agent.lastname)IfLongerThan30(*1_**M**C*agent.firstname+'.'+*M**C*agent.lastname)</display>
			<linetextlabel>(*1M**C*agent.firstname+' '+*M**C*agent.lastname)IfLongerThan30(*1_**M**C*agent.firstname+'.'+*M**C*agent.lastname)</linetextlabel>
			<externalphonemask>office.setting.1</externalphonemask>
			<linenumber>agent.linenumber</linenumber><!--One or more-->
			<cssline>'All_CSS'</cssline>
			<!--<cssforward>'TBD'</cssforward>
			<fwalldestination>'TBD'</fwalldestination>
			<fwnoandestination>'TBD'</fwnoandestination>
			<fwbusydestination>'TBD'</fwbusydestination>
			<fwunrdestination>'TBD'</fwunrdestination>
			<fwallvoicemailenable>'false'</fwallvoicemailenable>
			<fwnoanvoicemailenable>'false'</fwnoanvoicemailenable>
			<fwbusyvoicemailenable>'false'</fwbusyvoicemailenable>
			<fwunrvoicemailenable>'false'</fwunrvoicemailenable>
			<voicemailprofile>office.voicemailprofile</voicemailprofile>-->
			<routepartition>config.nodidpartition</routepartition>
			<producttype>'Cisco 7841'</producttype>
			<buttontemplate>'Standard 7841 SIP'</buttontemplate>
			<protocol>'SIP'</protocol>
			<service>'ippa':'UCCX':'http\\://10.20.147.206\\:8082/fippa/#DEVICENAME#?':'id=agent.userid':'extension=agent.linenumber':'password=agent.linenumber'</service><!--'Service Name':'Service URL label':'Service surl':'parameters name=parameters value' One or more service and one or more parameters separated by : -->
			<!--<speeddial>tbd</speeddial>--><!--number:description-->
		</udp>
		<user>
			<targetname>user</targetname>
			<userid>agent.userid</userid>
			<lastname>*M**C*agent.lastname</lastname>
			<firstname>*1M**C*agent.firstname</firstname>
			<subscribecss>'SUBSCRIBE_CSS'</subscribecss>
			<group>'Standard CCM End Users'</group><!--One or more-->
		</user>
		<user>
			<targetname>newuser</targetname>
			<userid>agent.userid</userid>
			<lastname>*M**C*agent.lastname</lastname>
			<firstname>(*1M**C*agent.firstname)IfLongerThan30(*1_**M**C*agent.firstname+'.')</firstname>
			<telephonenumber>agent.linenumber</telephonenumber>
			<!--<userlocal>office.userlocal</userlocal>-->
			<subscribecss>'SUBSCRIBE_CSS'</subscribecss>
			<password>agent.linenumber</password>
			<pin>agent.linenumber</pin>
			<serviceprofile>'FULL_UC_SCOM_SPC_CUCMDir'</serviceprofile>
			<group>'Standard CCM End Users'</group><!--One or more-->
		</user>
		<user>
			<targetname>updateuser</targetname>
			<userid>agent.userid</userid>
			<lastname>*M**C*agent.lastname</lastname>
			<firstname>(*1M**C*agent.firstname)IfLongerThan30(*1_**M**C*agent.firstname+'.')</firstname>
		</user>
		<user>
			<targetname>updateudp</targetname>
			<userid>agent.userid</userid>
			<udp>*m*agent.userid</udp>
			<ctiudp>*m*agent.userid</ctiudp>
		</user>
		<user>
			<targetname>updatephone</targetname>
			<userid>agent.userid</userid>
			<device>'SEP'+file.phonemac</device>
		</user>
		<user>
			<targetname>updatepe</targetname>
			<userid>agent.userid</userid>
			<primaryextension>agent.linenumber</primaryextension>
			<ipccextension>agent.linenumber</ipccextension>
			<partition>config.nodidpartition</partition>
		</user>
		<user>
			<targetname>updatesoftphone</targetname>
			<userid>agent.userid</userid>
			<device>('CSF'+*M*agent.userid)IfLongerThan15('CSF'+*9_**M*agent.userid+*_3**M*agent.userid)</device>
		</user>
		<appuser>
			<targetname>updateappuserudp</targetname>
			<userid>config.uccxrmcmuser</userid>
			<ctiudp>*m*agent.userid</ctiudp>
		</appuser>
		<appuser>
			<targetname>updateappuserphone</targetname>
			<userid>config.uccxrmcmuser</userid>
			<device>('CSF'+*M*agent.userid)IfLongerThan15('CSF'+*9_**M*agent.userid+*_3**M*agent.userid)</device>
		</appuser>
		<udplogin>
			<targetname>udplogin</targetname>
			<userid>agent.userid</userid>
			<device>'SEP'+agent.devicename</device>
			<udp>*m*agent.userid</udp>
		</udplogin>
		<agent>
			<targetname>agent</targetname>
			<userid>agent.userid</userid>
			<lastname>*M**C*agent.lastname</lastname>
			<firstname>(*1M**C*agent.firstname)IfLongerThan30(*1_**M**C*agent.firstname+'.')</firstname>
			<number>agent.linenumber</number>
		</agent>
	</items>
</xml>